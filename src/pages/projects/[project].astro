---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/react/Header";
import Footer from "../../components/react/Footer";
import TranslatedProjectDetail from "../../components/react/TranslatedProjectDetail";
import { projectsData } from "../../lib/projectsData";

export function getStaticPaths() {
    const paths: any[] = [];
    const allProjects = projectsData.en.projects;

    allProjects.forEach((project) => {
        paths.push({
            params: { project: project.slug },
        });
    });

    return paths;
}

const { project } = Astro.params;
const projectData = projectsData.en.projects.find((p) => p.slug === project);
const title = projectData
    ? `${projectData.title} | HMZ Technology`
    : "Project | HMZ Technology";
const description = projectData?.description || "View our project case study.";
---

<Layout title={title} description={description} lang="en">
    <Header lang="en" client:load />
    <main>
        <TranslatedProjectDetail projectSlug={project} lang="en" client:load />
    </main>
    <Footer lang="en" client:load />
</Layout>
